{% extends "::base.html.twig" %}

{% block title %}Porównywarka Dinozaurów{% endblock %}

{% block body %}
    {% block topPanel %}
    {% endblock %}
    <div id="topPanel">
        <a href="{{ asset("selectDino") }}">Nowe porównanie</a>
    </div>
    <div class="col-md-12"><h1 id="title">Porównywarka Dinozaurów</h1></div>
    <table class="dinoTable" class="col-md-12" id="photoCompare">
        <th>{{ firstDino.name }}</th>
        <th>{{ secondDino.name }}</th>
        <tr>
            <td class="dinoPhoto"><img src="{{ firstDino.webPath }}" width="460" height="310" class="wrapper"></td>
            <td class="dinoPhoto"><img src="{{ secondDino.webPath }}" width="460" height="310" class="wrapper"></td>
        </tr>
    </table>
    {#{{ graphicPresentation }}#}
        {#---------------------------------------------------------------------------------------------------#}
    <table class="dinoTable" class="col-md-12" style="border-spacing: 22px;">
        <tr id="weight">
            <td class="firstDinoRow">
                {% if firstDino.weight+secondDino.weight < 1000 %}
                    {% set mediana = (((firstDino.weight + secondDino.weight) / 10)|round(0, 'ceil')) * 10 %}
                {% else %}
                    {% set mediana = (((firstDino.weight + secondDino.weight) / 1000)|round(0, 'ceil')) * 1000 %}
                {% endif %}
                {% set graphicPresentation = ((mediana - firstDino.weight) * 100) / mediana %}
                <div class="dinoProperty">{{ firstDino.weight }} kg.</div>
                <div class="progress180">
                    <div class="progress-bar180" percentValue="{{ graphicPresentation }}">
                    </div>
                </div>
                {% block progressBarLeftWeight %}
                    {{ parent() }}
                {% endblock %}
            </td>
            <td>
                <img src="" width="40" class="leftCup">
                <span class="compareType">Waga</span>
                <img src="" width="40" class="rightCup">
            </td>
            {% set graphicPresentation = (secondDino.weight * 100) / mediana %}
            <td>
                <div class="dinoProperty">{{ secondDino.weight }} kg.</div>
                <div class="progres">
                    <div class="progres-bar" percentValue="{{ graphicPresentation }}">
                        <span class="sr-only">70% Complete</span>
                    </div>
                </div>
                {% block progressBarRighttWeight %}
                    {{ parent() }}
                {% endblock %}
            </td>
        </tr>

        {#---------------------------------------------------------------------------------------------------#}


        <tr id="lenght">
            <td class="firstDinoRow">
                {% set mediana = (((firstDino.lenght + secondDino.lenght) / 2)|round(0, 'ceil'))*2 %}
                {% set graphicPresentation = ((mediana - firstDino.lenght) * 100) / mediana %}

                <div class="dinoProperty">{{ firstDino.lenght }} m.</div>
                <div class="progress180">
                    <div class="progress-bar180" percentValue="{{ graphicPresentation }}">
                    </div>
                </div>
                {% block progressBarLeftLenght %}
                    {{ parent() }}
                {% endblock %}
            </td>
            <td>
                <img src="" width="40" class="leftCup">
                <span class="compareType">Dlugosc</span>
                <img src="" width="40" class="rightCup">
            </td>
            {% set graphicPresentation = (secondDino.lenght * 100) / mediana %}
            <td>
                <div class="dinoProperty">{{ secondDino.lenght }} m.</div>
                <div class="progres">
                    <div class="progres-bar" percentValue="{{ graphicPresentation }}">
                        <span class="sr-only">70% Complete</span>
                    </div>
                </div>
                {% block progressBarRightLenght %}
                    {{ parent() }}
                {% endblock %}

            </td>
        </tr>

        {#---------------------------------------------------------------------------------------------------#}

        <tr id="height">
            <td class="firstDinoRow">
                {% set mediana = (((firstDino.height + secondDino.height) / 2)|round(0, 'ceil'))*2 %}
                {% set graphicPresentation = ((mediana - firstDino.height) * 100) / mediana %}
                <div class="dinoProperty">{{ firstDino.height }} m.</div>
                <div class="progress180">
                    <div class="progress-bar180" percentValue="{{ graphicPresentation }}">
                    </div>
                </div>
                {% block progressBarLeftHeight %}
                    {{ parent() }}
                {% endblock %}
            </td>
            <td>
                <img src="" width="40" class="leftCup">
                <span class="compareType">Wysokosc</span>
                <img src="" width="40" class="rightCup">
            </td>
            {% set graphicPresentation = (secondDino.height * 100) / mediana %}
            <td>
                <div class="dinoProperty">{{ secondDino.height }} m.</div>
                <div class="progres">
                    <div class="progres-bar" percentValue="{{ graphicPresentation }}">
                        <span class="sr-only">70% Complete</span>
                    </div>
                </div>
                {% block progressBarRightHeight %}
                    {{ parent() }}
                {% endblock %}
            </td>
        </tr>
        <tr>
            <td class="firstDinoRow">
                <div class="dinoProperty">{{ firstDino.discoverYear }} r.</div>
            </td>
            <td>Rok odkrycia</td>
            <td>
                <div class="dinoProperty">{{ secondDino.discoverYear }} r.</div>
            </td>
        </tr>
        <tr>
            <td class="firstDinoRow">
                <div class="dinoProperty">{{ firstDino.foodType.name }}</div>
            </td>
            <td>Typ</td>
            <td>
                <div class="dinoProperty">{{ secondDino.foodType.name }}</div>
            </td>
        </tr>
        <tr>
            <td class="firstDinoRow">
                <div class="dinoProperty">{{ firstDino.period.name }}</div>
            </td>
            <td>Okres</td>
            <td>
                <div class="dinoProperty">{{ secondDino.period.name }}</div>
            </td>
        </tr>
        <tr>
            <td class="firstDinoRow">
                <div class="dinoProperty">{{ firstDino.dinoOrder.name }}</div>
            </td>
            <td>Rząd</td>
            <td>
                <div class="dinoProperty">{{ secondDino.dinoOrder.name }}</div>
            </td>
        </tr>
        <tr>
            <td class="firstDinoRow">
                <div class="dinoProperty">{{ firstDino.dinoSuborder.name }}</div>
            </td>
            <td>Podrząd</td>
            <td>
                <div class="dinoProperty">{{ secondDino.dinoSuborder.name }}</div>
            </td>
        </tr>
    </table>
{% endblock %}
